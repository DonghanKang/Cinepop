<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.mp.cinepop.store.model.StoreDAO">
	<insert id="insertPd" parameterType="storeVo">
		<selectKey keyProperty="pdNo" resultType="int" order="BEFORE">
			select PDNO_SEQ.nextval from dual
		</selectKey>
		
		insert into products(PD_NO, PCT_NO, PD_NAME, PD_PRICE,
			<!--  PD_IMAGEURL, PD_IMAGENAME, --> PD_DESCRIPTION)
		values(#{pdNo}, #{pctNo}, #{pdName}, #{pdPrice}, 
			<!-- #{pdImageURL}, #{pdImagename}, --> #{pdDescription})
	</insert>
	
	<update id="updatePd" parameterType="storeVo">
		update products
		set PCT_NO=#{pctNo}, PD_NAME=#{pdName}, PD_PRICE=#{pdPrice},
			<!-- PD_IMAGEURL=#{pdImageURL}, PD_IMAGENAME=#{pdImagename}, --> PD_DESCRIPTION=#{pdDescription}
		where PD_NO=#{pdNo}
	</update>
	
	<select id="selectByPdNo" parameterType="int" resultType="storeVo">
		select * from products
		where PD_NO=#{pdNo}
	</select>
	
	<select id="selectByCategory" parameterType="string" resultType="storeVo">
		select * from products
		where PCT_NO=#{pctNo}
	</select>
</mapper>









